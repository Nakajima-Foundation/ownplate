<template>
  <section class="px-6 pb-12 pt-4 mx-auto max-w-full">
    <div v-if="$store.getters.isSuperAdmin || $store.getters.isOperator">
      <h2>Operator Page</h2>
      <router-link to="/op/orders">All Orders</router-link>
      <br />
      <router-link to="/op/restaurants">All Restaurants</router-link>
      <br />
    </div>
  </section>
</template>

<script>
export default {
  metaInfo() {
    return {
      title: [this.defaultTitle, "operator index"].join(" / "),
    };
  },
  async mounted() {
    // console.log(this.$store.state.user, this.$store.getters.isNotSuperAdmin, this.$store.getters.isNotOperator);
    if (
      !this.$store.state.user ||
      (this.$store.getters.isNotSuperAdmin && this.$store.getters.isNotOperator)
    ) {
      this.$router.push("/");
    }
  },
  watch: {
    isNotSuperAdmin(newValue) {
      if (newValue && isNotOperator) {
        this.$router.push("/");
      }
    },
    isNotOperator(newValue) {
      if (newValue && isNotSuperAdmin) {
        this.$router.push("/");
      }
    },
  },
};
</script>
